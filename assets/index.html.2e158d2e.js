import{_ as e,r as t,o as p,c as o,a as n,b as s,d as c,e as i}from"./app.bcdb5872.js";const l={},r=n("h1",{id:"js-tools-function",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#js-tools-function","aria-hidden":"true"},"#"),s(" js-tools-function")],-1),u=n("blockquote",null,[n("p",null,"开发中使用到的函数")],-1),d=n("p",null,"包括类型判断、防抖节流、本地缓存（有有效时间）、格式化时间、复制、深拷贝、cookie读写（子cookie读写）、获取设置DOM样式及生成RFC4122 u4版本的uuid等方法",-1),k=n("strong",null,"js-tools-function 0.1.5 已经发布 🎉 ！",-1),v={href:"https://dreamforl.github.io/js-tools-function/",target:"_blank",rel:"noopener noreferrer"},m=i(`<h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> js-tools-function
<span class="token function">npm</span> <span class="token function">install</span> js-tools-function
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入" tabindex="-1"><a class="header-anchor" href="#导入" aria-hidden="true">#</a> 导入</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 按需导入（不支持全量导入）</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> debonce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>./index.umd.js<span class="token punctuation">&#39;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 通过script标签引入，会引入全局变量tools --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="函数" tabindex="-1"><a class="header-anchor" href="#函数" aria-hidden="true">#</a> 函数</h2><h3 id="函数节流" tabindex="-1"><a class="header-anchor" href="#函数节流" aria-hidden="true">#</a> 函数节流</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> throttleAtonce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">throttleAtonce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> throttleLatter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">throttleLatter</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数防抖" tabindex="-1"><a class="header-anchor" href="#函数防抖" aria-hidden="true">#</a> 函数防抖</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> debonce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">debonce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> timeout<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sleep函数" tabindex="-1"><a class="header-anchor" href="#sleep函数" aria-hidden="true">#</a> sleep函数</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> sleep <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;过了100ms&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="base64转png" tabindex="-1"><a class="header-anchor" href="#base64转png" aria-hidden="true">#</a> base64转png</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> base64ToBlob <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">base64ToBlob</span><span class="token punctuation">(</span>base64<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="复制内容" tabindex="-1"><a class="header-anchor" href="#复制内容" aria-hidden="true">#</a> 复制内容</h3><p>第一个参数为要复制的内容，第二参数为回调函数</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> copy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">copy</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;复制成功&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回类型" tabindex="-1"><a class="header-anchor" href="#返回类型" aria-hidden="true">#</a> 返回类型</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> getType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">getType</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="深拷贝" tabindex="-1"><a class="header-anchor" href="#深拷贝" aria-hidden="true">#</a> 深拷贝</h3><p>解决：函数、对象、数组、正则、日期、循环依赖等的深拷贝</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> deepCopy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token keyword">const</span> newObject <span class="token operator">=</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token function-variable function">show</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="缓存" tabindex="-1"><a class="header-anchor" href="#缓存" aria-hidden="true">#</a> 缓存</h2><p>本地可以设置缓存时间 ,过期就返回undefined</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> cache <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> get<span class="token punctuation">,</span> set<span class="token punctuation">,</span> remove<span class="token punctuation">,</span> clear <span class="token punctuation">}</span> <span class="token operator">=</span> cache

<span class="token comment">// 设置过期时间为10s</span>
<span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token operator">*</span><span class="token number">1000</span><span class="token punctuation">)</span>

<span class="token comment">// 读取</span>
<span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 移除某个值</span>
<span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// 清空缓存</span>
<span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="字符串" tabindex="-1"><a class="header-anchor" href="#字符串" aria-hidden="true">#</a> 字符串</h2><h3 id="转化为小驼峰" tabindex="-1"><a class="header-anchor" href="#转化为小驼峰" aria-hidden="true">#</a> 转化为小驼峰</h3><p>将字母前面有-或者_的转化为大写字母</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> string <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
string<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// eg</span>
string<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span><span class="token string">&#39;font-size&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// fontSize</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dom" tabindex="-1"><a class="header-anchor" href="#dom" aria-hidden="true">#</a> DOM</h2><h3 id="获取元素样式" tabindex="-1"><a class="header-anchor" href="#获取元素样式" aria-hidden="true">#</a> 获取元素样式</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> dom <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
dom<span class="token punctuation">.</span><span class="token function">getStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span>key<span class="token punctuation">)</span> <span class="token comment">// key可以使用-和_会自动转化为小驼峰</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置元素样式" tabindex="-1"><a class="header-anchor" href="#设置元素样式" aria-hidden="true">#</a> 设置元素样式</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> dom <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
dom<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token comment">// key可以使用-和_会自动转化为小驼峰</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="math" tabindex="-1"><a class="header-anchor" href="#math" aria-hidden="true">#</a> Math</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> math <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>四舍五入</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 取整的四舍五入</span>
math<span class="token punctuation">.</span><span class="token function">rounding</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="请求" tabindex="-1"><a class="header-anchor" href="#请求" aria-hidden="true">#</a> 请求</h2><h3 id="对象转化为地址栏参数" tabindex="-1"><a class="header-anchor" href="#对象转化为地址栏参数" aria-hidden="true">#</a> 对象转化为地址栏参数</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> parseObject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// &#39;?name=%E5%BC%A0%E4%B8%89&amp;age=10&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="拦截器" tabindex="-1"><a class="header-anchor" href="#拦截器" aria-hidden="true">#</a> 拦截器</h3><p>支持请求拦截器，解析响应前拦截、解析后拦截，统一请求头配置</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> zwFetch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
zwFetch<span class="token punctuation">.</span>interceptor<span class="token punctuation">.</span>options<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;zzzz&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;qaq&#39;</span> <span class="token comment">// 配置统一请求头</span>
<span class="token comment">// 请求拦截器</span>
zwFetch<span class="token punctuation">.</span>interceptor<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 全局请求加上时间戳</span>
  <span class="token keyword">const</span> t <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  options<span class="token punctuation">.</span>params<span class="token punctuation">.</span>t <span class="token operator">=</span> t
  <span class="token keyword">return</span> options
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 解析响应前拦截</span>
zwFetch<span class="token punctuation">.</span>interceptor<span class="token punctuation">.</span>response<span class="token punctuation">.</span>noTransform<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> res
  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">401</span> <span class="token operator">||</span> status <span class="token operator">===</span> <span class="token number">403</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;重新登陆&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;没有找到&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> res
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 解析响应前拦截</span>
zwFetch<span class="token punctuation">.</span>interceptor<span class="token punctuation">.</span>response<span class="token punctuation">.</span>transform<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> res
  <span class="token keyword">return</span> data
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 挂载在window上面</span>
window<span class="token punctuation">.</span>fetch <span class="token operator">=</span> zwFetch
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="随机" tabindex="-1"><a class="header-anchor" href="#随机" aria-hidden="true">#</a> 随机</h2><h3 id="获取随机数" tabindex="-1"><a class="header-anchor" href="#获取随机数" aria-hidden="true">#</a> 获取随机数</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> random <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
random<span class="token punctuation">.</span><span class="token function">getUuid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 返回符合RFC4122 u4版本的uuid</span>
<span class="token comment">// 4aa00c56-05db-4354-86ca-2ced34a877e7</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取给定长度的随机数" tabindex="-1"><a class="header-anchor" href="#获取给定长度的随机数" aria-hidden="true">#</a> 获取给定长度的随机数</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> random <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
random<span class="token punctuation">.</span><span class="token function">getRandom</span><span class="token punctuation">(</span>length <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span>list<span class="token punctuation">)</span>
<span class="token comment">// 默认从0~f中随机</span>
<span class="token comment">// 第二参数为数组，可以传递范围的数组，将会从数组中随机</span>
random<span class="token punctuation">.</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment">// 3fac1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="时间" tabindex="-1"><a class="header-anchor" href="#时间" aria-hidden="true">#</a> 时间</h2><h3 id="格式化时间" tabindex="-1"><a class="header-anchor" href="#格式化时间" aria-hidden="true">#</a> 格式化时间</h3><p>根据所传的格式日期的字段，来格式化日期，不传time默认返回当前时间</p><p>不传str默认样式为: YYYY-MM-DD hh:mm:ss</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> time <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
time<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>time<span class="token punctuation">)</span>
<span class="token comment">// 2022-09-19 02:06:57</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="计算一个毫秒的时间" tabindex="-1"><a class="header-anchor" href="#计算一个毫秒的时间" aria-hidden="true">#</a> 计算一个毫秒的时间</h3><p>对应的天、时、分、秒</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> time <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
time<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token number">99999999</span><span class="token punctuation">)</span>
<span class="token comment">// {day: 1, hours: 3, minutes: 46, seconds: 39}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="计算两个日期相差的时间" tabindex="-1"><a class="header-anchor" href="#计算两个日期相差的时间" aria-hidden="true">#</a> 计算两个日期相差的时间</h3><p>第一个参数可以是时间戳，也可以是日期对象</p><p>第二个参数默认为当前时间，可以传递时间戳和日期对象</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> time <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
time<span class="token punctuation">.</span><span class="token function">diffTwoTimes</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#39;2022-9-1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// {day: 30, hours: 20, minutes: 8, seconds: 26}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cookie" tabindex="-1"><a class="header-anchor" href="#cookie" aria-hidden="true">#</a> cookie</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> cookie <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="获取cookie" tabindex="-1"><a class="header-anchor" href="#获取cookie" aria-hidden="true">#</a> 获取cookie</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>cookie<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span> <span class="token comment">// </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置cookie" tabindex="-1"><a class="header-anchor" href="#设置cookie" aria-hidden="true">#</a> 设置cookie</h3><p>第三个参数是配置，包含domain（域名）、path（路径）、expires（过期时间）、maxAge（存在时间，单位是秒s）、secure（是否只存在https中）</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>cookie<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>options<span class="token punctuation">)</span>
<span class="token doc-comment comment">/**
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span> Date <span class="token punctuation">}</span></span> <span class="token parameter">options<span class="token punctuation">.</span>expires</span> // 过期时间
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span> Number <span class="token punctuation">}</span></span> <span class="token parameter">options<span class="token punctuation">.</span>maxAge</span> // cookie存在的时间，单位是s
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span> String <span class="token punctuation">}</span></span> <span class="token parameter">options<span class="token punctuation">.</span>domain</span> // 设置cookie的域名
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span> String <span class="token punctuation">}</span></span> <span class="token parameter">options<span class="token punctuation">.</span>path</span> // 设置cookie的路径
 * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span> Boolean <span class="token punctuation">}</span></span> <span class="token parameter">options<span class="token punctuation">.</span>secure</span> // 是否只允许https请求携带
 */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="移除cookie" tabindex="-1"><a class="header-anchor" href="#移除cookie" aria-hidden="true">#</a> 移除cookie</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>cookie<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="获取子cookie" tabindex="-1"><a class="header-anchor" href="#获取子cookie" aria-hidden="true">#</a> 获取子cookie</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>cookie<span class="token punctuation">.</span><span class="token function">getSubCookie</span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置子cookie" tabindex="-1"><a class="header-anchor" href="#设置子cookie" aria-hidden="true">#</a> 设置子cookie</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>cookie<span class="token punctuation">.</span><span class="token function">setSubCookie</span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>options<span class="token punctuation">)</span>
<span class="token comment">// user :父cookie键</span>
<span class="token comment">// name: 子cookie键</span>
<span class="token comment">// 张三：子cookie值</span>
<span class="token comment">// options:配置（同设置cookie一样）</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="移除子cookie" tabindex="-1"><a class="header-anchor" href="#移除子cookie" aria-hidden="true">#</a> 移除子cookie</h3><p>// 移除的时候，无法继承之前cookie的配置，所以需要重新设置</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>cookie<span class="token punctuation">.</span><span class="token function">removeSubCookie</span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span>options<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="设置默认配置" tabindex="-1"><a class="header-anchor" href="#设置默认配置" aria-hidden="true">#</a> 设置默认配置</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>cookie<span class="token punctuation">.</span><span class="token function">setGlobalOptions</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token comment">// 设置默认配置，后续默认使用该配置，在默认配置会被后面传递的配置覆盖（覆盖传入的那一次）</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="列表导出excel" tabindex="-1"><a class="header-anchor" href="#列表导出excel" aria-hidden="true">#</a> 列表导出excel</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> exportExcel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;js-tools-function&#39;</span>
<span class="token comment">//一级表头示例</span>
<span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span>list<span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;可以不带后缀，默认xlsx&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">header</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token literal-property property">label</span><span class="token operator">:</span><span class="token string">&#39;序号&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//label为表头名称，key为表的值，可以采用a.b.c的方式(a必须是list中对象的属性)</span>
        <span class="token punctuation">{</span><span class="token literal-property property">label</span><span class="token operator">:</span><span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">length</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">//可以设置宽度(number)，默认渲染为100px</span>
        <span class="token punctuation">{</span><span class="token literal-property property">label</span><span class="token operator">:</span><span class="token string">&#39;性别&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">key</span><span class="token operator">:</span><span class="token string">&#39;sex&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token function">exportExcel</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//二级表头示例</span>
<span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//二级表头要设置deep为2，并且设置rowspan</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;分布表.xlsx&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> list<span class="token punctuation">,</span>
  <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;序号&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;分布数&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">colspan</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> 		<span class="token comment">//要设置colspan，表示下面有几个子表头</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>		<span class="token comment">//子表头 </span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;小孩&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;child&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;成人&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;adult&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;老人&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;old&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&#39;性别&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&#39;sex&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token function">exportExcel</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,83);function b(h,g){const a=t("ExternalLinkIcon");return p(),o("div",null,[r,u,d,n("p",null,[k,n("a",v,[s("地址"),c(a)])]),m])}const y=e(l,[["render",b],["__file","index.html.vue"]]);export{y as default};
